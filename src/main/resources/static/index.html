<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>WebSocket Messenger</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: sans-serif; padding: 2em; background-color: #f2f3f5; }
        #chatWrapper { display: flex; height: 80vh; border: 1px solid #ccc; border-radius: 10px; overflow: hidden; }
        #dialogsList { width: 280px; background-color: #ffffff; border-right: 1px solid #ddd; overflow-y: auto; padding: 1em; }
        #chatArea { flex: 1; display: flex; flex-direction: column; padding: 1em; background-color: #ffffff; }
        #messages { flex: 1; overflow-y: auto; padding-bottom: 1em; }
        .message { margin: 10px 0; display: flex; align-items: flex-end; }
        .message.right { flex-direction: row-reverse; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; margin: 0 10px; }
        .bubble { max-width: 70%; padding: 10px 14px; border-radius: 16px; }
        .message.right .bubble { background-color: #d2f9d0; color: #000; }
        .message.left .bubble { background-color: #f1f1f1; color: #000; }
        .dialog-entry { display: flex; align-items: center; padding: 6px; cursor: pointer; border-bottom: 1px solid #eee; }
        .dialog-entry:hover { background-color: #f0f0f0; }
        .dialog-entry img { width: 32px; height: 32px; border-radius: 50%; margin-right: 10px; }
        .input-group input { background-color: #fff; }
    </style>
</head>
<body>

<h2>WebSocket Messenger</h2>

<div class="mb-3 d-flex">
    <input type="text" id="searchBar" class="form-control me-2" placeholder="Введите логин">
    <button class="btn btn-outline-secondary" onclick="addUserFromSearch()">Найти</button>
</div>

<div id="chatWrapper">
    <div id="dialogsList"></div>

    <div id="chatArea">
        <div id="messages"></div>
        <div class="input-group mt-3">
            <input type="text" id="msg" class="form-control" placeholder="Сообщение" onkeydown="if(event.key==='Enter') send()">
            <button class="btn btn-primary" onclick="send()">Отправить</button>
        </div>
    </div>
</div>

<script src="/chat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</body>
</html>
